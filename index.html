<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <!-- Default meta (will be dynamically updated per page by SEOHead component) -->
    <title>Stoneworks of Colorado | Custom Stone & Granite Countertops</title>
    <meta name="description" content="Northern Colorado's premier custom stone fabricator. 20+ years crafting granite, quartz, marble & quartzite countertops. Free consultation. Lifetime warranty." />
    <meta name="author" content="Stoneworks of Colorado" />
    <meta name="keywords" content="granite countertops, quartz countertops, marble countertops, custom stone, Fort Collins, Northern Colorado, kitchen remodel, bathroom vanity" />
    <link rel="canonical" href="https://stoneworksco.com" />
    <meta name="robots" content="index, follow" />

    <!-- Open Graph defaults -->
    <meta property="og:title" content="Stoneworks of Colorado | Custom Stone Countertops" />
    <meta property="og:description" content="Transform your kitchen & bath with custom stone countertops. 20+ years of expert craftsmanship in Northern Colorado." />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://stoneworksco.com" />
    <meta property="og:image" content="https://stoneworksco.com/og-image.jpg" />
    <meta property="og:site_name" content="Stoneworks of Colorado" />

    <!-- Twitter Card defaults -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@StoneworksCO" />
    <meta name="twitter:title" content="Stoneworks of Colorado | Custom Stone Countertops" />
    <meta name="twitter:description" content="Transform your kitchen & bath with custom stone countertops. 20+ years of expert craftsmanship in Northern Colorado." />
    <meta name="twitter:image" content="https://stoneworksco.com/og-image.jpg" />
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />
    
    <!-- Font preloading for performance (WOFF2 with font-display: swap) -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link 
      rel="preload" 
      as="style" 
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=DM+Sans:wght@300;400;500;600;700&display=swap"
    />
    <link 
      rel="stylesheet" 
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=DM+Sans:wght@300;400;500;600;700&display=swap"
      media="print" 
      onload="this.media='all'"
    />
    <noscript>
      <link 
        rel="stylesheet" 
        href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=DM+Sans:wght@300;400;500;600;700&display=swap"
      />
    </noscript>

    <!-- DNS prefetch for performance -->
    <link rel="dns-prefetch" href="https://www.googletagmanager.com" />
  </head>

  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>

    <!-- GHL Chat Widget -->
    <script
      src="https://beta.leadconnectorhq.com/loader.js"
      data-resources-url="https://beta.leadconnectorhq.com/chat-widget/loader.js"
      data-widget-id="68d6b1e32c7d0b6e6655dd6c">
    </script>
    
    <!-- Hide GHL chat bubble on mobile, keep icon only -->
    <style>
      @media (max-width: 768px) {
        /* Target the GHL bubble container - it appears near the chat icon */
        #chat-widget-container > div:not(:last-child),
        [data-testid*="bubble"],
        [class*="bubble"],
        [class*="Bubble"],
        [class*="message-preview"],
        [class*="MessagePreview"],
        [class*="text-widget"],
        [class*="TextWidget"],
        /* More specific GHL selectors */
        .chat-widget-bubble,
        .lc-chat-bubble,
        .lc-message-bubble,
        .lc-widget-bubble,
        /* Target by structure - bubble with avatar image */
        div[style*="border-radius"][style*="background"]:has(img[style*="border-radius: 50%"]),
        div[style*="box-shadow"]:has(img[style*="border-radius"]) {
          display: none !important;
          opacity: 0 !important;
          visibility: hidden !important;
          pointer-events: none !important;
        }
      }
    </style>
    <script>
      // Aggressively hide GHL text bubble on mobile
      (function() {
        if (window.innerWidth > 768) return;
        
        function hideBubble() {
          // Find elements that look like the chat bubble
          document.querySelectorAll('div').forEach(function(el) {
            var style = window.getComputedStyle(el);
            var rect = el.getBoundingClientRect();
            
            // The bubble is typically fixed position, bottom-right, contains an image
            if (style.position === 'fixed' && 
                rect.bottom > window.innerHeight - 200 &&
                rect.right > window.innerWidth - 150 &&
                rect.width > 150 && rect.width < 350 &&
                el.querySelector('img')) {
              
              // Check if this looks like the bubble (has text content, not just an icon)
              var text = el.textContent || '';
              if (text.includes('question') || text.includes('Message') || text.includes('Hi there')) {
                el.style.cssText = 'display: none !important; visibility: hidden !important;';
              }
            }
          });
        }
        
        // Run on load and observe for changes
        if (document.readyState === 'loading') {
          document.addEventListener('DOMContentLoaded', function() {
            setTimeout(hideBubble, 1000);
            setTimeout(hideBubble, 2000);
            setTimeout(hideBubble, 3000);
          });
        } else {
          setTimeout(hideBubble, 1000);
          setTimeout(hideBubble, 2000);
          setTimeout(hideBubble, 3000);
        }
        
        // Observe DOM changes
        var observer = new MutationObserver(function() {
          hideBubble();
        });
        observer.observe(document.body || document.documentElement, { 
          childList: true, 
          subtree: true 
        });
      })();
    </script>
  </body>
</html>