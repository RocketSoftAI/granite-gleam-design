<!doctype html>
<html lang="en">
  <head>
    <script src="https://t.contentsquare.net/uxa/d7f6ef7d861b7.js"></script>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <!-- Default meta (will be dynamically updated per page by SEOHead component) -->
    <title>Stoneworks of Colorado | Custom Stone & Granite Countertops</title>
    <meta name="description" content="Northern Colorado's premier custom stone fabricator. 20+ years crafting granite, quartz, marble & quartzite countertops. Free consultation. 1 year warranty." />
    <meta name="author" content="Stoneworks of Colorado" />
    <meta name="keywords" content="granite countertops, quartz countertops, marble countertops, custom stone, Fort Collins, Northern Colorado, kitchen remodel, bathroom vanity" />
    <link rel="canonical" href="https://stoneworksco.com" />
    <meta name="robots" content="index, follow" />

    <!-- Open Graph defaults -->
    <meta property="og:title" content="Stoneworks of Colorado | Custom Stone Countertops" />
    <meta property="og:description" content="Transform your kitchen & bath with custom stone countertops. 20+ years of expert craftsmanship in Northern Colorado." />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://stoneworksco.com" />
    <meta property="og:image" content="https://stoneworksco.com/og-image.jpg" />
    <meta property="og:site_name" content="Stoneworks of Colorado" />

    <!-- Twitter Card defaults -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@StoneworksCO" />
    <meta name="twitter:title" content="Stoneworks of Colorado | Custom Stone Countertops" />
    <meta name="twitter:description" content="Transform your kitchen & bath with custom stone countertops. 20+ years of expert craftsmanship in Northern Colorado." />
    <meta name="twitter:image" content="https://stoneworksco.com/og-image.jpg" />
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />
    
    <!-- Critical Resource Hints -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="preconnect" href="https://www.googletagmanager.com" />
    <link rel="dns-prefetch" href="https://beta.leadconnectorhq.com" />
    
    <!-- Critical CSS - Inlined for faster FCP/LCP -->
    <style>
      /* Critical above-the-fold styles */
      *,*::before,*::after{box-sizing:border-box}
      html{line-height:1.5;-webkit-text-size-adjust:100%;font-family:'DM Sans',system-ui,-apple-system,BlinkMacSystemFont,sans-serif}
      h1,h2,h3{font-family:'Playfair Display',Georgia,'Times New Roman',serif}
      body{margin:0;background-color:hsl(40 20% 97%);color:hsl(30 10% 15%)}
      #root{min-height:100vh}
      .animate-fade-in{animation:fadeIn .5s ease-out forwards;opacity:0}
      @keyframes fadeIn{to{opacity:1}}
      /* Hero section critical styles - provides instant visual before React loads */
      section.relative{position:relative}
      .min-h-screen{min-height:100vh}
      .flex{display:flex}
      .items-center{align-items:center}
      .justify-center{justify-content:center}
      .overflow-hidden{overflow:hidden}
      .absolute{position:absolute}
      .inset-0{top:0;right:0;bottom:0;left:0}
      .w-full{width:100%}
      .h-full{height:100%}
      .object-cover{object-fit:cover}
      .z-10{z-index:10}
      .container{width:100%;margin-left:auto;margin-right:auto;padding-left:1.5rem;padding-right:1.5rem}
      @media(min-width:1024px){.container{max-width:1280px}}
      /* Hero placeholder gradient - shows immediately before image loads */
      .hero-placeholder{background-color:hsl(30,10%,18%);background-image:linear-gradient(to bottom,hsl(30,10%,15%) 0%,hsl(30,10%,20%) 50%,hsl(30,10%,12%) 100%)}
    </style>
    
    <!-- Hero Image Preload - Critical for LCP (optimized compressed images) -->
    <!-- Using fetchpriority="high" to ensure browser prioritizes LCP image -->
    <link 
      rel="preload" 
      as="image" 
      href="/images/hero-mobile-opt.webp?v=2"
      media="(max-width: 640px)"
      type="image/webp"
      fetchpriority="high"
    />
    <link 
      rel="preload" 
      as="image" 
      href="/images/hero-tablet-opt.webp?v=2"
      media="(min-width: 641px) and (max-width: 1024px)"
      type="image/webp"
      fetchpriority="high"
    />
    <link 
      rel="preload" 
      as="image" 
      href="/images/hero-desktop-opt.webp?v=2"
      media="(min-width: 1025px)"
      type="image/webp"
      fetchpriority="high"
    />
    
    <!-- Font loading optimized for performance (non-blocking) -->
    <!-- Font preload removed - using media="print" async pattern only -->
    <link 
      rel="stylesheet" 
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=DM+Sans:wght@300;400;500;600;700&display=swap"
      media="print" 
      onload="this.media='all'"
    />
    <noscript>
      <link 
        rel="stylesheet" 
        href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=DM+Sans:wght@300;400;500;600;700&display=swap"
      />
    </noscript>
  </head>

  <body>
    <!-- Pre-rendered structure matching React component tree for clean hydration -->
    <div id="root">
      <!-- Container matching React's Index component -->
      <div class="min-h-screen" style="background-color:hsl(40,20%,97%)">
        <!-- PromoBanner placeholder - lazy loaded, initially empty -->
        
        <!-- Navbar placeholder - fixed position handled by React -->
        
        <!-- Main content wrapper -->
        <main>
          <!-- HeroSection - Pre-rendered for instant LCP -->
          <section 
            data-prerender="hero"
            style="position:relative;min-height:100vh;display:flex;align-items:center;justify-content:center;overflow:hidden;background-color:hsl(30,10%,18%);background-image:linear-gradient(to bottom,hsl(30,10%,15%) 0%,hsl(30,10%,20%) 50%,hsl(30,10%,12%) 100%)"
          >
            <!-- Background Image - this IS the LCP element -->
            <div style="position:absolute;inset:0">
              <picture>
                <source media="(max-width: 640px)" srcset="/images/hero-mobile-opt.webp?v=2" type="image/webp">
                <source media="(max-width: 1024px)" srcset="/images/hero-tablet-opt.webp?v=2" type="image/webp">
                <source srcset="/images/hero-desktop-opt.webp?v=2" type="image/webp">
                <img 
                  src="/images/hero-desktop-opt.webp?v=2" 
                  alt="Luxury kitchen with custom stone countertops" 
                  style="width:100%;height:100%;object-fit:cover"
                  fetchpriority="high"
                  decoding="sync"
                  width="1920"
                  height="1080"
                  sizes="100vw"
                >
              </picture>
              <!-- Dark overlay -->
              <div style="position:absolute;inset:0;background:linear-gradient(to bottom,rgba(41,37,33,0.5),rgba(41,37,33,0.4),rgba(41,37,33,0.7))"></div>
            </div>
            <!-- Content -->
            <div style="position:relative;z-index:10;width:100%;max-width:1280px;margin:0 auto;padding:6rem 1.5rem 1.5rem">
              <div style="max-width:48rem">
                <div style="display:inline-flex;align-items:center;gap:0.5rem;background:rgba(255,255,255,0.1);border:1px solid rgba(255,255,255,0.2);padding:0.5rem 1rem;border-radius:9999px;margin-bottom:2rem">
                  <span style="width:0.5rem;height:0.5rem;border-radius:9999px;background:hsl(30,50%,50%)"></span>
                  <span style="font-size:0.75rem;text-transform:uppercase;letter-spacing:0.1em;color:rgba(255,255,255,0.8);font-weight:500">Northern Colorado's Premier Stone Fabricator</span>
                </div>
                <h1 style="font-family:Playfair Display,serif;font-size:clamp(2.5rem,5vw,4.5rem);font-weight:500;color:white;margin:0 0 1.5rem;line-height:1.1">
                  Timeless Stone,<br><span style="font-style:italic;font-weight:400;opacity:0.9">Crafted for You</span>
                </h1>
                <p style="font-size:1.125rem;color:rgba(255,255,255,0.8);max-width:36rem;margin:0 0 2.5rem;line-height:1.6">
                  With over 20 years of expertise in granite, quartz, marble, and quartzite, we create custom countertops that elevate your kitchen and bath to works of art.
                </p>
                <!-- CTA Buttons - Pre-rendered to prevent layout shift -->
                <div style="display:flex;flex-wrap:wrap;gap:1rem">
                  <button style="display:inline-flex;align-items:center;gap:0.5rem;background:hsl(32,45%,35%);color:white;padding:1rem 2rem;border-radius:0.375rem;border:none;font-weight:500;font-size:1rem;cursor:pointer">
                    <svg style="width:1rem;height:1rem" fill="none" stroke="currentColor" viewBox="0 0 24 24"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
                    Schedule a Consultation
                    <svg style="width:1rem;height:1rem" fill="none" stroke="currentColor" viewBox="0 0 24 24"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg>
                  </button>
                  <button style="display:inline-flex;align-items:center;background:transparent;color:white;padding:1rem 2rem;border-radius:0.375rem;border:1px solid rgba(255,255,255,0.3);font-weight:500;font-size:1rem;cursor:pointer">
                    View Our Work
                  </button>
                </div>
                <!-- Trust Indicators - Pre-rendered to prevent layout shift -->
                <div style="display:flex;flex-wrap:wrap;align-items:center;gap:2rem;margin-top:4rem;padding-top:2rem;border-top:1px solid rgba(255,255,255,0.2)">
                  <div style="text-align:center">
                    <span style="display:block;font-size:1.875rem;font-family:'Playfair Display',Georgia,serif;font-weight:500;color:white">20+</span>
                    <span style="font-size:0.75rem;text-transform:uppercase;letter-spacing:0.1em;color:rgba(255,255,255,0.6)">Years Experience</span>
                  </div>
                  <div style="width:1px;height:3rem;background:rgba(255,255,255,0.2)"></div>
                  <div style="text-align:center">
                    <span style="display:block;font-size:1.875rem;font-family:'Playfair Display',Georgia,serif;font-weight:500;color:white">2,500+</span>
                    <span style="font-size:0.75rem;text-transform:uppercase;letter-spacing:0.1em;color:rgba(255,255,255,0.6)">Projects Completed</span>
                  </div>
                  <div style="width:1px;height:3rem;background:rgba(255,255,255,0.2)"></div>
                  <div style="text-align:center">
                    <span style="display:block;font-size:1.875rem;font-family:'Playfair Display',Georgia,serif;font-weight:500;color:white">1 Year</span>
                    <span style="font-size:0.75rem;text-transform:uppercase;letter-spacing:0.1em;color:rgba(255,255,255,0.6)">Warranty</span>
                  </div>
                </div>
              </div>
            </div>
          </section>
        </main>
      </div>
    </div>
    <script type="module" src="/src/main.tsx"></script>

    <!-- GHL Chat Widget - Heavily deferred for performance -->
    <script>
      (function() {
        var loaded = false;
        
        function loadChatWidget() {
          if (loaded) return;
          loaded = true;
          
          var script = document.createElement('script');
          script.src = 'https://beta.leadconnectorhq.com/loader.js';
          script.setAttribute('data-resources-url', 'https://beta.leadconnectorhq.com/chat-widget/loader.js');
          script.setAttribute('data-widget-id', '68d6b1e32c7d0b6e6655dd6c');
          script.async = true;
          document.body.appendChild(script);
        }
        
        // Mobile: Load after significant scroll or 30 seconds (increased from 15)
        if (window.innerWidth <= 768) {
          var scrollHandler = function() {
            // Trigger at 50% scroll instead of 75%
            if (window.scrollY > window.innerHeight * 0.5) {
              loadChatWidget();
              window.removeEventListener('scroll', scrollHandler);
            }
          };
          window.addEventListener('scroll', scrollHandler, { passive: true });
          setTimeout(loadChatWidget, 30000); // 30s on mobile
        } else {
          // Desktop: Load after 8 seconds (increased from 5)
          if (document.readyState === 'complete') {
            setTimeout(loadChatWidget, 8000);
          } else {
            window.addEventListener('load', function() {
              setTimeout(loadChatWidget, 8000);
            }, { once: true });
          }
        }
      })();
    </script>
    
    <!-- Hide GHL chat bubble on mobile, keep icon only -->
    <style>
      /* On mobile, clip the widget container to only show the bottom-right icon area */
      @media (max-width: 768px) {
        /* Target the GHL widget container - usually has fixed positioning */
        #chat-widget,
        #lc-chat-widget,
        .lc-chat-widget,
        div[id*="chat-widget"],
        div[class*="chat-widget"] {
          /* Clip to show only bottom 70px (the icon) */
          clip-path: inset(calc(100% - 70px) 0 0 calc(100% - 70px)) !important;
        }
        
        /* Alternative: target iframe container */
        iframe[src*="leadconnector"],
        iframe[src*="chat-widget"] {
          clip-path: inset(calc(100% - 70px) 0 0 calc(100% - 70px)) !important;
        }
      }
    </style>
    <script>
      // Hide GHL bubble on mobile by clipping the widget
      (function() {
        if (window.innerWidth > 768) return;
        
        function clipWidget() {
          // Find iframe or container elements from GHL
          var selectors = [
            'iframe[src*="leadconnector"]',
            'iframe[src*="chat-widget"]',
            'iframe[src*="msgsndr"]',
            '#chat-widget',
            '#lc-chat-widget',
            '[id*="chat-widget"]',
            '[class*="chat-widget"]'
          ];
          
          selectors.forEach(function(sel) {
            document.querySelectorAll(sel).forEach(function(el) {
              el.style.clipPath = 'inset(calc(100% - 80px) 0 0 calc(100% - 80px))';
            });
          });
          
          // Also find fixed position containers with iframes
          document.querySelectorAll('div[style*="position: fixed"]').forEach(function(el) {
            if (el.querySelector('iframe') || el.textContent.includes('Message us')) {
              // Check if this is bottom-right positioned (likely the chat widget)
              var rect = el.getBoundingClientRect();
              if (rect.right > window.innerWidth - 100 && rect.bottom > window.innerHeight - 200) {
                el.style.clipPath = 'inset(calc(100% - 80px) 0 0 calc(100% - 80px))';
              }
            }
          });
        }
        
        // Run multiple times as widget loads async
        setTimeout(clipWidget, 2000);
        setTimeout(clipWidget, 5000);
        setTimeout(clipWidget, 10000);
        setTimeout(clipWidget, 15000);
        
        // Also observe for DOM changes
        var observer = new MutationObserver(clipWidget);
        observer.observe(document.documentElement, { childList: true, subtree: true });
      })();
    </script>
  </body>
</html>
